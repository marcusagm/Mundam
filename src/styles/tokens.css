@import "./themes/index.css";

:root {
  /* --- 0. Theme Defaults --- */
  --theme-h: 210;
  --theme-c: 0.15;

  /* --- 1. Primitive Layer (The Palette) --- */
  
  /* Primary Palette (Dynamic) */
  --p-primary-50:  oklch(97% 0.02 var(--theme-h));
  --p-primary-100: oklch(92% 0.04 var(--theme-h));
  --p-primary-200: oklch(85% 0.08 var(--theme-h));
  --p-primary-300: oklch(75% 0.12 var(--theme-h));
  --p-primary-400: oklch(65% 0.14 var(--theme-h));
  --p-primary-500: oklch(58% var(--theme-c) var(--theme-h));
  --p-primary-600: oklch(48% var(--theme-c) var(--theme-h));
  --p-primary-700: oklch(38% 0.13 var(--theme-h));
  --p-primary-800: oklch(28% 0.10 var(--theme-h));
  --p-primary-900: oklch(18% 0.08 var(--theme-h));
  --p-primary-950: oklch(10% 0.06 var(--theme-h));

  /* Neutrals (Neutral Grays) */
  --p-neutral-0:   oklch(100% 0 0);
  --p-neutral-50:  oklch(98% 0 0);
  --p-neutral-100: oklch(95% 0 0);
  --p-neutral-200: oklch(88% 0 0);
  --p-neutral-300: oklch(78% 0 0);
  --p-neutral-400: oklch(65% 0 0);
  --p-neutral-500: oklch(50% 0 0);
  --p-neutral-600: oklch(35% 0 0);
  --p-neutral-700: oklch(25% 0 0);
  --p-neutral-800: oklch(18% 0 0);
  --p-neutral-850: oklch(16% 0 0);
  --p-neutral-900: oklch(13% 0 0);
  --p-neutral-950: oklch(8% 0 0);

  /* Functional Colors */
  /* Success (Green) */
  --p-success-50:  oklch(97% 0.02 145);
  --p-success-100: oklch(92% 0.04 145);
  --p-success-200: oklch(85% 0.08 145);
  --p-success-300: oklch(75% 0.12 145);
  --p-success-400: oklch(70% 0.15 145);
  --p-success-500: oklch(65% 0.18 145);
  --p-success-600: oklch(55% 0.17 145);
  --p-success-700: oklch(45% 0.15 145);
  --p-success-800: oklch(35% 0.12 145);
  --p-success-900: oklch(25% 0.09 145);
  --p-success-950: oklch(15% 0.06 145);

  /* Warning (Yellow) */
  --p-warning-50:  oklch(98% 0.02 85);
  --p-warning-100: oklch(95% 0.04 85);
  --p-warning-200: oklch(90% 0.08 85);
  --p-warning-300: oklch(85% 0.11 85);
  --p-warning-400: oklch(80% 0.13 85);
  --p-warning-500: oklch(75% 0.15 85);
  --p-warning-600: oklch(65% 0.14 85);
  --p-warning-700: oklch(55% 0.12 85);
  --p-warning-800: oklch(45% 0.10 85);
  --p-warning-900: oklch(35% 0.08 85);
  --p-warning-950: oklch(25% 0.06 85);

  /* Error (Red) */
  --p-error-50:  oklch(97% 0.02 25);
  --p-error-100: oklch(92% 0.04 25);
  --p-error-200: oklch(85% 0.08 25);
  --p-error-300: oklch(75% 0.12 25);
  --p-error-400: oklch(68% 0.16 25);
  --p-error-500: oklch(60% 0.20 25);
  --p-error-600: oklch(50% 0.18 25);
  --p-error-700: oklch(40% 0.15 25);
  --p-error-800: oklch(30% 0.12 25);
  --p-error-900: oklch(20% 0.09 25);
  --p-error-950: oklch(12% 0.06 25);

  /* Info (Blue) */
  --p-info-50:  oklch(97% 0.02 240);
  --p-info-100: oklch(92% 0.04 240);
  --p-info-200: oklch(85% 0.08 240);
  --p-info-300: oklch(78% 0.12 240);
  --p-info-400: oklch(71% 0.14 240);
  --p-info-500: oklch(65% 0.15 240);
  --p-info-600: oklch(55% 0.14 240);
  --p-info-700: oklch(45% 0.12 240);
  --p-info-800: oklch(35% 0.10 240);
  --p-info-900: oklch(25% 0.08 240);
  --p-info-950: oklch(15% 0.06 240);

  /* --- 2. Spacing --- */
  --p-space-0:   0rem;
  --p-space-1:   0.0625rem;
  --p-space-xxs: 0.125rem;
  --p-space-xs:  0.25rem;
  --p-space-s:   0.5rem;
  --p-space-m:   1rem;
  --p-space-l:   1.5rem;
  --p-space-xl:  2rem;
  --p-space-2xl: 3rem;
  --p-space-3xl: 4rem;
  --p-space-4xl: 6rem;

  /* --- 3. Typography --- */
  --p-font-main: "Poppins", "Inter", -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
  --p-font-mono: "JetBrains Mono", "Fira Code", monospace;

  --p-font-size-xxs: 0.625rem;
  --p-font-size-xs:  0.75rem;
  --p-font-size-s:   0.8125rem;
  --p-font-size-m:   0.875rem;
  --p-font-size-l:   1rem;
  --p-font-size-xl:  1.25rem;
  --p-font-size-2xl: 1.5rem;
  --p-font-size-3xl: 2rem;

  /* --- 4. Effects --- */
  --p-shadow-color: 0 0 0;
  --global-statusbar-height: var(--p-space-xl);
}

/* --- 5. Semantic Layer --- */
:root {
  color-scheme: dark;
  --bg-page:       var(--p-neutral-900);
  --bg-sidebar:    var(--p-neutral-850);
  --bg-header:     var(--p-neutral-800);
  --bg-surface-1:  var(--p-neutral-850);
  --bg-surface-2:  var(--p-neutral-800);
  --bg-surface-3:  var(--p-neutral-700);
  --bg-surface-active: var(--p-primary-700);

  /* Backdrop / Glassmorphism */
  --bg-backdrop:   oklch(13% 0 0 / 0.7);
  --bg-overlay:    oklch(0% 0 0 / 0.4);

  /* Border */
  --border-subtle:  var(--p-neutral-800);
  --border-default: var(--p-neutral-700);
  --border-strong:  var(--p-neutral-600);
  --border-active:  var(--p-primary-500);

  /* Text & Icons */
  --text-primary:   var(--p-neutral-200);
  --text-secondary: var(--p-neutral-400);
  --text-tertiary:  var(--p-neutral-600);
  --text-inverse:   var(--p-neutral-0);

  /* Functional Text */
  --text-destructive: var(--p-error-200);
  --text-destructive-no-bg: var(--p-error-400);
  --text-success:     var(--p-success-200);
  --text-success-no-bg: var(--p-success-400);
  --text-warning:     var(--p-warning-200);
  --text-warning-no-bg: var(--p-warning-400);
  --text-info:        var(--p-info-200);
  --text-info-no-bg: var(--p-info-400);

  /* Actions */
  --action-primary-bg:       var(--p-primary-500);
  --action-primary-bg-hover: var(--p-primary-400);
  --action-primary-text:     var(--p-neutral-0);
  
  --action-secondary-bg:       var(--p-neutral-800);
  --action-secondary-bg-hover: var(--p-neutral-700);
  --action-secondary-text:     var(--text-primary);
  
  --action-destructive-bg:       var(--p-error-500);
  --action-destructive-text:     var(--p-neutral-0);

  /* Feedback Backgrounds (Subtle) */
  --feedback-success-bg: oklch(65% 0.18 145 / 0.15);
  --feedback-drawing-bg: oklch(50% 0 0 / 0.5); /* Placeholder */

  /* Semantic Status Backgrounds (Solid) */
  --bg-success: var(--p-success-950);
  --bg-warning: var(--p-warning-950);
  --bg-error:   var(--p-error-950);
  --bg-info:    var(--p-info-950);

  /* Radius */
  --radius-none: 0;
  --radius-xs:   0.125rem;
  --radius-s:    0.25rem;
  --radius-m:    0.375rem;
  --radius-l:    0.5rem;
  --radius-full: 9999px;

  /* Shadows (with dark mode adjustment) */
  --shadow-color: 0.23 0 0; /* derived from bg-page OKLCH lightness approx */
  --shadow-xs: 0px 1px 2px oklch(0% 0 0 / 0.3);
  --shadow-s:  0px 2px 4px oklch(0% 0 0 / 0.4);
  --shadow-m:  0px 4px 8px oklch(0% 0 0 / 0.5);
  --shadow-l:  0px 12px 24px oklch(0% 0 0 / 0.6);
  
  --shadow-focus: 
    0px 0px 0px 2px var(--bg-page), 
    0px 0px 0px 4px var(--p-primary-500);

  /* Transitions */
  --duration-fast:   100ms;
  --duration-normal: 200ms;
  --ease-out:        cubic-bezier(0, 0, 0.2, 1);
  
  --transition-default: all var(--duration-normal) var(--ease-out);
  --transition-fast:    all var(--duration-fast) var(--ease-out);

  /* Font Aliases */
  --font-main: var(--p-font-main);
  --font-mono: var(--p-font-mono);
  --font-size-base: var(--p-font-size-s);
}

/* Light Mode Override (if needed/activated via class) */
[data-theme="light"] {
  color-scheme: light;
  
  /* Backgrounds: Darker -> Lighter for Depth */
  --bg-page:       var(--p-neutral-200);
  --bg-sidebar:    var(--p-neutral-100);
  --bg-header:     var(--p-neutral-200);
  
  --bg-surface-1:  var(--p-neutral-200);
  --bg-surface-2:  var(--p-neutral-100);
  --bg-surface-3:  var(--p-neutral-50);
  
  /* Fixed OKLCH parameter order (L C H) */
  --bg-surface-active: var(--p-primary-500);

  /* Backdrop / Glassmorphism */
  --bg-backdrop:   oklch(100% 0 0 / 0.7);
  --bg-overlay:    oklch(100% 0 270 / 0.2);

  /* Border */
  --border-subtle:  var(--p-neutral-200);
  --border-default: var(--p-neutral-300);
  --border-strong:  var(--p-neutral-400);
  --border-active:  var(--p-primary-500);

  /* Text & Icons */
  --text-primary:   var(--p-neutral-900);
  --text-secondary: var(--p-neutral-600);
  --text-tertiary:  var(--p-neutral-500);
  --text-inverse:   var(--p-neutral-0);

  /* Functional Text (Optimized for Light backgrounds) */
  --text-destructive: oklch(45% 0.18 25);
  --text-destructive-no-bg: oklch(40% 0.18 25);
  --text-success:     oklch(45% 0.15 145);
  --text-success-no-bg: oklch(40% 0.15 145);
  --text-warning:     oklch(50% 0.15 85);
  --text-warning-no-bg: oklch(45% 0.15 85);
  --text-info:        oklch(45% 0.15 240);
  --text-info-no-bg: oklch(40% 0.15 240);

  /* Actions */
  --action-primary-bg:       oklch(50% var(--theme-c) var(--theme-h));
  --action-primary-bg-hover: oklch(45% var(--theme-c) var(--theme-h));
  --action-primary-text:     var(--p-neutral-0);
  
  --action-secondary-bg:       var(--p-neutral-200);
  --action-secondary-bg-hover: var(--p-neutral-300);
  --action-secondary-text:     var(--text-primary);
  
  --action-destructive-bg:       oklch(50% 0.20 25);
  --action-destructive-text:     var(--p-neutral-0);

  /* Feedback Backgrounds (Subtle) */
  --feedback-success-bg: oklch(65% 0.18 145 / 0.15);
  --feedback-drawing-bg: oklch(0% 0 0 / 0.05);

  /* Semantic Status Backgrounds (Solid Light) */
  --bg-success: var(--p-primary-50);
  --bg-warning: var(--p-warning-50);
  --bg-error:   var(--p-error-50);
  --bg-info:    var(--p-info-50);

  /* Radius (Inherited, but can be overridden) */
  --radius-none: 0;
  --radius-xs:   0.125rem;
  --radius-s:    0.25rem;
  --radius-m:    0.375rem;
  --radius-l:    0.5rem;
  --radius-full: 9999px;

  /* Shadows (Light Mode optimized) */
  --shadow-color: 0 0 0;
  --shadow-xs: 0px 1px 2px oklch(0% 0 0 / 0.1);
  --shadow-s:  0px 2px 4px oklch(0% 0 0 / 0.1);
  --shadow-m:  0px 4px 8px oklch(0% 0 0 / 0.1);
  --shadow-l:  0px 12px 24px oklch(0% 0 0 / 0.1);
  
  --shadow-focus: 
    0px 0px 0px 2px var(--bg-page), 
    0px 0px 0px 4px oklch(50% var(--theme-c) var(--theme-h));

  /* Transitions */
  --duration-fast:   100ms;
  --duration-normal: 200ms;
  --ease-out:        cubic-bezier(0, 0, 0.2, 1);
  
  --transition-default: all var(--duration-normal) var(--ease-out);
  --transition-fast:    all var(--duration-fast) var(--ease-out);

  /* Font Aliases */
  --font-main: var(--p-font-main);
  --font-mono: var(--p-font-mono);
  --font-size-base: var(--p-font-size-s);
}
